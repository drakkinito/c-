Константы и поля для чтения

Полями класса называются обычные переменные уровня класса. Мы уже ранее рассматривали переменные - их объявление и инициализацию.
Однако некоторые моменты мы еще не затрагивали, например, константы и поля для чтения.

Константы
Константы характеризуются следующими признаками:

    - Константа должна быть проинициализирована при определении

    - После определения значение константы не может быть изменено

Константы предназначены для описания таких значений, которые не должны изменяться в программе.
Для определения констант используется ключевое слово const:

    const double PI = 3.14;
    const double E = 2.71;

При использовании констант надо помнить, что объявить мы их можем только один раз и что к моменту компиляции они должны быть определены.

    class MathLib
    {
        public const double PI=3.141;
        public const double E = 2.81;
        public const double K;      // Ошибка, константа не инициализирована
    }
     
    class Program
    {
        static void Main(string[] args)
        {
            MathLib.E=3.8; // Ошибка, значение константы нельзя изменить
        }
    }

Также обратите внимание на синтаксис обращения к константе. Так как неявно это статическое поле, для обращения к ней необходимо использовать имя класса.
    class MathLib
    {
        public const double PI=3.141;
    }
     
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine(MathLib.PI);
        }
    }


Поля для чтения
Поля для чтения можно инициализировать при их объявлении либо на уровне класса, либо инициилизировать и изменять в конструкторе. Инициализировать или изменять их значение в других местах нельзя, можно только считывать их значение.

Поле для чтения объявляется с ключевым словом readonly: 

    class MathLib
    {
        public readonly double K = 23;  // можно так инициализировать
     
        public MathLib(double _k)
        {
            K = _k; // поле для чтения может быть инициализировано или изменено в конструкторе после компиляции
        }
        public void ChangeField()
        {
            // так нельзя
            //K = 34;
        }
    }
     
    class Program
    {
        static void Main(string[] args)
        {
            MathLib mathLib = new MathLib(3.8);
            Console.WriteLine(mathLib.K); // 3.8
     
            //mathLib.K = 7.6; // поле для чтения нельзя установить вне своего класса
            Console.ReadLine();
     
        }
    }

Сравнение констант
Константы должны быть определены во время компиляции, а поля для чтения могут быть определены во время выполнения программы.

Соответственно инициализировать константу можно устанновить только при ее определении.

Поле для чтения можно инициализировать либо при его определении, либо в конструкторе класса.

Константы не могут быть статическими. Поля для чтения могут быть статическими.    